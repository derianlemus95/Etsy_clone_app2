{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\deven\\\\OneDrive\\\\Desktop\\\\Lab2\\\\Frontend\\\\src\\\\components\\\\Home\\\\Home.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Redirect } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      books: []\n    };\n  } //get the books data from backend  \n\n\n  componentDidMount() {\n    axios.defaults.headers.common['authorization'] = localStorage.getItem('token');\n    axios.get('http://localhost:3001/book/home').then(response => {\n      //update the state with the response data\n      this.setState({\n        books: response.data\n      });\n    });\n  }\n\n  render() {\n    //iterate over books to create a table row\n    let details = this.state.books.map(book => {\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: book.BookID\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: book.Title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: book.Author\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }, this);\n    }); //if not logged in go to login page\n\n    let redirectVar = null;\n\n    if (!localStorage.getItem('token')) {\n      redirectVar = /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 27\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [redirectVar, /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"List of All Books\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          class: \"table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Book ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Author\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: details\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this);\n  }\n\n} //export Home Component\n\n\nexport default Home;","map":{"version":3,"sources":["C:/Users/deven/OneDrive/Desktop/Lab2/Frontend/src/components/Home/Home.js"],"names":["React","Component","axios","Redirect","Home","constructor","props","state","books","componentDidMount","defaults","headers","common","localStorage","getItem","get","then","response","setState","data","render","details","map","book","BookID","Title","Author","redirectVar"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,QAAuB,cAAvB;;;AAEA,MAAMC,IAAN,SAAmBH,SAAnB,CAA6B;AACzBI,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAG;AADC,KAAb;AAGH,GANwB,CAOzB;;;AACAC,EAAAA,iBAAiB,GAAE;AACfP,IAAAA,KAAK,CAACQ,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiDC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAjD;AACAZ,IAAAA,KAAK,CAACa,GAAN,CAAU,iCAAV,EACSC,IADT,CACeC,QAAD,IAAc;AACpB;AACA,WAAKC,QAAL,CAAc;AACVV,QAAAA,KAAK,EAAGS,QAAQ,CAACE;AADP,OAAd;AAGH,KANL;AAOH;;AAEDC,EAAAA,MAAM,GAAE;AACJ;AACA,QAAIC,OAAO,GAAG,KAAKd,KAAL,CAAWC,KAAX,CAAiBc,GAAjB,CAAqBC,IAAI,IAAI;AACvC,0BACI;AAAA,gCACI;AAAA,oBAAKA,IAAI,CAACC;AAAV;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAA,oBAAKD,IAAI,CAACE;AAAV;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI;AAAA,oBAAKF,IAAI,CAACG;AAAV;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ;AAOH,KARa,CAAd,CAFI,CAWJ;;AACA,QAAIC,WAAW,GAAG,IAAlB;;AACA,QAAG,CAACd,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAJ,EAAkC;AAC9Ba,MAAAA,WAAW,gBAAG,QAAC,QAAD;AAAU,QAAA,EAAE,EAAE;AAAd;AAAA;AAAA;AAAA;AAAA,cAAd;AACH;;AACD,wBACI;AAAA,iBACKA,WADL,eAEI;AAAK,QAAA,KAAK,EAAC,WAAX;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEQ;AAAO,UAAA,KAAK,EAAC,OAAb;AAAA,kCACI;AAAA,mCACI;AAAA,sCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eAQI;AAAA,sBAEKN;AAFL;AAAA;AAAA;AAAA;AAAA,kBARJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFR;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAqBH;;AAxDwB,C,CA0D7B;;;AACA,eAAejB,IAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport {Redirect} from 'react-router';\r\n\r\nclass Home extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {  \r\n            books : []\r\n        }\r\n    }  \r\n    //get the books data from backend  \r\n    componentDidMount(){\r\n        axios.defaults.headers.common['authorization'] = localStorage.getItem('token');\r\n        axios.get('http://localhost:3001/book/home')\r\n                .then((response) => {\r\n                //update the state with the response data\r\n                this.setState({\r\n                    books : response.data\r\n                });\r\n            });\r\n    }\r\n\r\n    render(){\r\n        //iterate over books to create a table row\r\n        let details = this.state.books.map(book => {\r\n            return(\r\n                <tr>\r\n                    <td>{book.BookID}</td>\r\n                    <td>{book.Title}</td>\r\n                    <td>{book.Author}</td>\r\n                </tr>\r\n            )\r\n        })\r\n        //if not logged in go to login page\r\n        let redirectVar = null;\r\n        if(!localStorage.getItem('token')){\r\n            redirectVar = <Redirect to= \"/login\"/>\r\n        }\r\n        return(\r\n            <div>\r\n                {redirectVar}\r\n                <div class=\"container\">\r\n                    <h2>List of All Books</h2>\r\n                        <table class=\"table\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>Book ID</th>\r\n                                    <th>Title</th>\r\n                                    <th>Author</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {/*Display the Table row based on data recieved*/}\r\n                                {details}\r\n                            </tbody>\r\n                        </table>\r\n                </div> \r\n            </div> \r\n        )\r\n    }\r\n}\r\n//export Home Component\r\nexport default Home;"]},"metadata":{},"sourceType":"module"}