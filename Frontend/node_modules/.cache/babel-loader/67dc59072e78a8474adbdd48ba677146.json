{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\deven\\\\OneDrive\\\\Desktop\\\\Lab2\\\\Frontend\\\\src\\\\components\\\\Register\\\\Register.js\";\nimport React, { Component } from \"react\";\nimport \"../../App.css\";\nimport axios from \"axios\"; //Define a Register Component\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Register extends Component {\n  //call the constructor method\n  constructor(props) {\n    //Call the constructor of Super class i.e The Component\n    super(props); //maintain the state required for this component\n\n    this.nameChangeHandler = e => {\n      this.setState({\n        name: e.target.value\n      });\n    };\n\n    this.emailChangeHandler = e => {\n      this.setState({\n        email: e.target.value\n      });\n    };\n\n    this.passwordChangeHandler = e => {\n      this.setState({\n        password: e.target.value\n      });\n    };\n\n    this.submitLogin = e => {\n      //prevent page from refresh\n      e.preventDefault();\n      const data = {\n        name: this.state.name,\n        email: this.state.email,\n        password: this.state.password\n      }; //set the with credentials to true\n\n      axios.defaults.withCredentials = true; //make a post request with the user data\n\n      axios.post(\"http://localhost:3001/auth/register\", data).then(response => {\n        if (response.status === 200) {\n          this.setState({\n            authFlag: false\n          });\n        } else {\n          this.setState({\n            authFlag: true\n          });\n        }\n      });\n    };\n\n    this.state = {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      authFlag: false\n    }; //Bind the handlers to this class\n\n    this.nameChangeHandler = this.nameChangeHandler.bind(this);\n    this.emailChangeHandler = this.emailChangeHandler.bind(this);\n    this.passwordChangeHandler = this.passwordChangeHandler.bind(this);\n    this.submitLogin = this.submitLogin.bind(this);\n  } //Call the Will Mount to set the auth Flag to false\n\n\n  componentWillMount() {\n    this.setState({\n      authFlag: false\n    });\n  } //name change handler to update state variable with the text entered by the user\n\n\n  render() {\n    //redirect based on successful login\n    let {\n      authFlag\n    } = this.state;\n    let invalidID;\n\n    if (authFlag) {\n      invalidID = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"errorClass\",\n          style: {\n            color: \"red\"\n          },\n          children: \"Error: account already exist. Please log in or create an account with a different email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"login-form\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"main-div\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"panel\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Create a new account\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Please enter your name, email, and password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this), invalidID, /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: this.submitLogin,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  onChange: this.nameChangeHandler,\n                  type: \"text\",\n                  class: \"form-control\",\n                  required: true,\n                  name: \"name\",\n                  placeholder: \"Full Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  onChange: this.emailChangeHandler,\n                  type: \"text\",\n                  class: \"form-control\",\n                  required: true,\n                  name: \"email\",\n                  placeholder: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  onChange: this.passwordChangeHandler,\n                  type: \"password\",\n                  class: \"form-control\",\n                  required: true,\n                  name: \"password\",\n                  placeholder: \"Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                class: \"btn btn-primary\",\n                children: \"Register\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this);\n  }\n\n} //export Login Component\n\n\nexport default Register;","map":{"version":3,"sources":["C:/Users/deven/OneDrive/Desktop/Lab2/Frontend/src/components/Register/Register.js"],"names":["React","Component","axios","Register","constructor","props","nameChangeHandler","e","setState","name","target","value","emailChangeHandler","email","passwordChangeHandler","password","submitLogin","preventDefault","data","state","defaults","withCredentials","post","then","response","status","authFlag","bind","componentWillMount","render","invalidID","color"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"../../App.css\";\r\nimport axios from \"axios\";\r\n\r\n//Define a Register Component\r\nclass Register extends Component {\r\n  //call the constructor method\r\n  constructor(props) {\r\n    //Call the constructor of Super class i.e The Component\r\n    super(props);\r\n    //maintain the state required for this component\r\n    this.state = {\r\n      name: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      authFlag: false,\r\n    };\r\n    //Bind the handlers to this class\r\n    this.nameChangeHandler = this.nameChangeHandler.bind(this);\r\n    this.emailChangeHandler = this.emailChangeHandler.bind(this);\r\n    this.passwordChangeHandler = this.passwordChangeHandler.bind(this);\r\n    this.submitLogin = this.submitLogin.bind(this);\r\n  }\r\n  //Call the Will Mount to set the auth Flag to false\r\n  componentWillMount() {\r\n    this.setState({\r\n      authFlag: false,\r\n    });\r\n  }\r\n  //name change handler to update state variable with the text entered by the user\r\n  nameChangeHandler = (e) => {\r\n    this.setState({\r\n      name: e.target.value,\r\n    });\r\n  };\r\n  //name change handler to update state variable with the text entered by the user\r\n  emailChangeHandler = (e) => {\r\n    this.setState({\r\n      email: e.target.value,\r\n    });\r\n  };\r\n  //password change handler to update state variable with the text entered by the user\r\n  passwordChangeHandler = (e) => {\r\n    this.setState({\r\n      password: e.target.value,\r\n    });\r\n  };\r\n  //submit Login handler to send a request to the node backend\r\n  submitLogin = (e) => {\r\n    //prevent page from refresh\r\n    e.preventDefault();\r\n    const data = {\r\n      name: this.state.name,\r\n      email: this.state.email,\r\n      password: this.state.password,\r\n    };\r\n    //set the with credentials to true\r\n    axios.defaults.withCredentials = true;\r\n    //make a post request with the user data\r\n    axios.post(\"http://localhost:3001/auth/register\", data).then((response) => {\r\n      if (response.status === 200) {\r\n        this.setState({\r\n          authFlag: false,\r\n        });\r\n      } else {\r\n        this.setState({\r\n          authFlag: true,\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    //redirect based on successful login\r\n    let { authFlag } = this.state;\r\n    let invalidID;\r\n    if (authFlag) {\r\n      invalidID = (\r\n        <div>\r\n          <span className=\"errorClass\" style={{ color: \"red\" }}>\r\n            Error: account already exist. Please log in or create an account\r\n            with a different email\r\n          </span>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div>\r\n        <div class=\"container\">\r\n          <div class=\"login-form\">\r\n            <div class=\"main-div\">\r\n              <div class=\"panel\">\r\n                <h2>Create a new account</h2>\r\n                <p>Please enter your name, email, and password</p>\r\n              </div>\r\n              {invalidID}\r\n              <form onSubmit={this.submitLogin}>\r\n                <div class=\"form-group\">\r\n                  <input\r\n                    onChange={this.nameChangeHandler}\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    required\r\n                    name=\"name\"\r\n                    placeholder=\"Full Name\"\r\n                  />\r\n                </div>\r\n                <div class=\"form-group\">\r\n                  <input\r\n                    onChange={this.emailChangeHandler}\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    required\r\n                    name=\"email\"\r\n                    placeholder=\"Email\"\r\n                  />\r\n                </div>\r\n                <div class=\"form-group\">\r\n                  <input\r\n                    onChange={this.passwordChangeHandler}\r\n                    type=\"password\"\r\n                    class=\"form-control\"\r\n                    required\r\n                    name=\"password\"\r\n                    placeholder=\"Password\"\r\n                  />\r\n                </div>\r\n                <button type=\"submit\" class=\"btn btn-primary\">\r\n                  Register\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n//export Login Component\r\nexport default Register;\r\n"]},"metadata":{},"sourceType":"module"}