{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\deven\\\\OneDrive\\\\Desktop\\\\Lab2\\\\Frontend\\\\src\\\\components\\\\Shop\\\\Shop.js\";\nimport React, { Component } from \"react\";\nimport \"../../App.css\";\nimport axios from \"axios\";\nimport cookie from \"react-cookies\";\nimport { Redirect } from \"react-router\";\nimport Button from \"react-bootstrap/Button\";\nimport Table from \"react-bootstrap/Table\";\nimport Form from \"react-bootstrap/Form\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Shop extends Component {\n  constructor() {\n    super();\n\n    this.itemnamehandler = e => {\n      this.setState({\n        itemname: e.target.value\n      });\n    };\n\n    this.categoryhandler = e => {\n      this.setState({\n        category: e.target.value\n      });\n    };\n\n    this.descriptionhandler = e => {\n      this.setState({\n        description: e.target.value\n      });\n    };\n\n    this.quantityhandler = e => {\n      this.setState({\n        quantity: e.target.value\n      });\n    };\n\n    this.pricehandler = e => {\n      this.setState({\n        price: e.target.value\n      });\n    };\n\n    this.photohandler = e => {\n      this.setState({\n        photo: e.target.value\n      });\n    };\n\n    this.imageHandler = event => {\n      this.setState({\n        photo: event.target.files[0]\n      });\n    };\n\n    this.imageHandler2 = event => {\n      const file = event.target.files[0];\n      const username = localStorage.getItem(\"email\"); // {  username:\"adfafsd\"}// cookie.load('cookie')}\n\n      const shop = cookie.load(\"shopname\");\n      const formData = new FormData();\n      formData.append(\"image\", file);\n      formData.append(\"username\", username);\n      formData.append(\"shopname\", shop);\n      axios.defaults.headers.common[\"authorization\"] = localStorage.getItem(\"token\");\n      axios.post(\"http://localhost:3001/shopImageUpdate\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      }).then(response => {\n        console.log(\"Status Code : \", response.status);\n\n        if (response.status === 200) {\n          console.log(\"IMAGE UPDATED\");\n        } else {\n          console.log(\"IMAGE FAILED TO BE UPDATED\");\n        }\n      });\n    };\n\n    this.submitLogin1 = e => {\n      e.preventDefault();\n      const data = {\n        username: localStorage.getItem(\"email\"),\n        itemname: this.state.itemname,\n        category: this.state.category,\n        description: this.state.description,\n        price: this.state.price,\n        quantity: this.state.quantity,\n        photo: this.state.photo\n      };\n      const file = this.state.photo; // const data = cookie.load('cookie')// {  username:\"adfafsd\"}// cookie.load('cookie')}\n\n      const formData = new FormData();\n      formData.append(\"image\", file);\n      formData.append(\"username\", localStorage.getItem(\"email\"));\n      formData.append(\"itemname\", this.state.itemname);\n      formData.append(\"category\", this.state.category);\n      formData.append(\"description\", this.state.description);\n      formData.append(\"price\", this.state.price);\n      formData.append(\"quantity\", this.state.quantity);\n      console.log(\"File\");\n      console.log(data);\n      console.log(\"File\");\n      axios.defaults.headers.common[\"authorization\"] = localStorage.getItem(\"token\");\n      axios.post(\"http://localhost:3001/editItem\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      }).then(response => {\n        console.log(\"Status Code Register : \", response.status);\n\n        if (response.status === 200) {\n          this.setState({\n            edited: true\n          });\n        } else if (response.status === 201) {\n          this.setState({\n            successflag: false,\n            duplicateid: true\n          });\n        }\n      });\n    };\n\n    this.submitLogin = e => {\n      e.preventDefault();\n      const data = {\n        username: localStorage.getItem(\"email\"),\n        itemname: this.state.itemname,\n        category: this.state.category,\n        description: this.state.description,\n        price: this.state.price,\n        quantity: this.state.quantity,\n        photo: this.state.photo\n      };\n      const file = this.state.photo; // const data = cookie.load('cookie')// {  username:\"adfafsd\"}// cookie.load('cookie')}\n\n      const formData = new FormData();\n      formData.append(\"image\", file);\n      formData.append(\"username\", localStorage.getItem(\"email\"));\n      formData.append(\"itemname\", this.state.itemname);\n      formData.append(\"category\", this.state.category);\n      formData.append(\"description\", this.state.description);\n      formData.append(\"price\", this.state.price);\n      formData.append(\"quantity\", this.state.quantity); //send data to backend\n\n      axios.defaults.headers.common[\"authorization\"] = localStorage.getItem(\"token\");\n      axios.post(\"http://localhost:3001/shop/addItem\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      }).then(response => {\n        if (response.status === 200) {\n          this.setState({\n            added: true\n          });\n        } else if (response.status === 201) {\n          this.setState({\n            successflag: false,\n            duplicateid: true\n          });\n        }\n      });\n    };\n\n    this.state = {\n      items: [],\n      shop: [],\n      owner: false,\n      added: false,\n      edited: false,\n      itemname: \"\",\n      category: \"\",\n      description: \"\",\n      price: \"\",\n      quantity: \"\",\n      photo: \"\"\n    }; //Bind the handlers to this class\n\n    this.itemnamehandler = this.itemnamehandler.bind(this);\n    this.categoryhandler = this.categoryhandler.bind(this);\n    this.descriptionhandler = this.descriptionhandler.bind(this);\n    this.quantityhandler = this.quantityhandler.bind(this);\n    this.pricehandler = this.pricehandler.bind(this);\n    this.photohandler = this.photohandler.bind(this);\n    this.submitLogin = this.submitLogin.bind(this);\n  } //iten name change handler\n\n\n  handleClickFavorites(e) {\n    //e.stopPropagation();\n    // access to e.target here\n    console.log(e.target.value);\n    const data = {\n      username: localStorage.getItem(\"email\"),\n      itemname: e.target.value\n    };\n    axios.post(\"http://localhost:3001/addfavorites\", data).then(response => {\n      if (response.status === 200) {\n        console.log(\"passed favorites\");\n      } else if (response.status === 201) {\n        console.log(\"INVALID DATA  favorites\");\n      }\n    });\n  } //add item\n\n\n  //get the books data from backend\n  componentDidMount() {\n    const data = {\n      username: localStorage.getItem(\"email\"),\n      shopname: cookie.load(\"shopname\"),\n      owner: false\n    };\n    axios.defaults.headers.common[\"authorization\"] = localStorage.getItem(\"token\");\n    axios.post(\"http://localhost:3001/shop/getShopData\", data).then(response => {\n      if (response) {\n        this.setState({\n          items: response.data[0],\n          shop: response.data[1],\n          owner: response.data[2]\n        });\n      } else {\n        console.log(\"ERROR\");\n      }\n    });\n  }\n\n  render() {\n    let editowner = null; //iterate over books to create a table row\n\n    let details = this.state.items.map(item => {\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.image && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"http://localhost:3000/\" + item.image,\n            alt: \"img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [\"$\", item.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.salesCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: editowner\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this);\n    });\n    let shops = this.state.shop.map(shop => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: shop.shopname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"figure\", {\n          children: shop.shopimage && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"http://localhost:3000/\" + shop.shopimage,\n            alt: \"img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"About the seller: \", shop.about]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Email: \", shop.email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Seller Is From: \", shop.city, \", \", shop.country]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this);\n    });\n    let {\n      owner\n    } = this.state;\n    let shopowner = null;\n    let sales = null;\n    let additem = null;\n    let modalval = null;\n    let {\n      edited\n    } = this.state;\n    let editsuccess = null;\n    let {\n      added\n    } = this.state;\n    let addsuccess = null;\n\n    if (added) {\n      addsuccess = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"errorClass\",\n          style: {\n            color: \"blue\"\n          },\n          children: \"Succesfully added Item!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (edited) {\n      editsuccess = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"errorClass\",\n          style: {\n            color: \"blue\"\n          },\n          children: \"Succesfully Edited Item!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this);\n    }\n\n    let ownerFlag;\n    console.log(owner);\n\n    if (owner) {\n      ownerFlag = /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Welcome back owner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this);\n      editowner = /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        class: \"btn btn-primary\",\n        \"data-toggle\": \"modal\",\n        \"data-target\": \"#exampleModal\",\n        children: \"Edit item\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this);\n      shopowner = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          class: \"form-label\",\n          for: \"customFile\",\n          children: \"Change Shop Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          name: \"image\",\n          accept: \"image/*\",\n          multiple: false,\n          onChange: this.imageHandler2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, this);\n      sales = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          class: \"form-control\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Item Name:\", \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: this.itemnamehandler,\n              type: \"text\",\n              class: \"form-control\",\n              name: \"idnum\",\n              placeholder: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Category:\", \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: this.categoryhandler,\n              type: \"text\",\n              class: \"form-control\",\n              name: \"idnum\",\n              placeholder: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Description:\", \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: this.descriptionhandler,\n              type: \"text\",\n              class: \"form-control\",\n              name: \"idnum\",\n              placeholder: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Price:\", \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: this.pricehandler,\n              type: \"text\",\n              class: \"form-control\",\n              name: \"booktitle\",\n              placeholder: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Quantity:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: this.quantityhandler,\n              type: \"text\",\n              class: \"form-control\",\n              name: \"bookauthor\",\n              placeholder: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Photo:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              name: \"image\",\n              accept: \"image/*\",\n              multiple: false,\n              onChange: this.imageHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.submitLogin,\n            type: \"button\",\n            class: \"btn btn-primary\",\n            children: \"Add item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.submitLogin1,\n            type: \"button\",\n            class: \"btn btn-primary\",\n            children: \"Edit item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this), addsuccess, editsuccess]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this);\n      additem = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          class: \"btn btn-primary\",\n          \"data-bs-toggle\": \"modal\",\n          \"data-bs-target\": \"#exampleModal\",\n          children: \"Add item\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 9\n      }, this);\n      modalval = /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"modal fade\",\n        id: \"exampleModal\",\n        tabindex: \"-1\",\n        \"aria-labelledby\": \"exampleModalLabel\",\n        \"aria-hidden\": \"true\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"modal-dialog\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"modal-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"modal-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                class: \"modal-title\",\n                id: \"exampleModalLabel\",\n                children: \"Modal title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                class: \"btn-close\",\n                \"data-bs-dismiss\": \"modal\",\n                \"aria-label\": \"Close\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"modal-body\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: \"100%\"\n                },\n                class: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"col col-lg-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: [\"New Item Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                      onChange: this.itemnamehandler,\n                      type: \"text\",\n                      class: \"form-control\",\n                      name: \"idnum\",\n                      placeholder: \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 459,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 457,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 467,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    children: [\"Category:\", \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n                      onChange: this.categoryhandler,\n                      type: \"text\",\n                      class: \"form-control\",\n                      name: \"idnum\",\n                      placeholder: \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 470,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 468,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 478,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    children: [\"Description:\", \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n                      onChange: this.descriptionhandler,\n                      type: \"text\",\n                      class: \"form-control\",\n                      name: \"idnum\",\n                      placeholder: \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 481,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 479,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 489,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    children: [\"Price:\", \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n                      onChange: this.pricehandler,\n                      type: \"text\",\n                      class: \"form-control\",\n                      name: \"booktitle\",\n                      placeholder: \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 492,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 490,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 500,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    children: [\"Quantity:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                      onChange: this.quantityhandler,\n                      type: \"text\",\n                      class: \"form-control\",\n                      name: \"bookauthor\",\n                      placeholder: \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 503,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 501,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [\"Item Image:\", \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"file\",\n                    name: \"image\",\n                    accept: \"image/*\",\n                    multiple: false,\n                    onChange: this.imageHandler\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 515,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 513,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"modal-footer\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                class: \"btn btn-secondary\",\n                \"data-dismiss\": \"modal\",\n                children: \"Close\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: this.submitLogin,\n                type: \"button\",\n                class: \"btn btn-primary\",\n                children: \"Save Item\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 533,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 15\n            }, this), addsuccess]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 9\n      }, this);\n    } //if not logged in go to login page\n\n\n    let redirectVar = null;\n\n    if (!localStorage.getItem(\"token\")) {\n      redirectVar = /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 21\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [redirectVar, /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container\",\n        children: [shops, shopowner, sales, /*#__PURE__*/_jsxDEV(Table, {\n          striped: true,\n          bordered: true,\n          hover: true,\n          variant: \"dark\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 563,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 564,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 565,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 566,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Sales Count\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 567,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: details\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 560,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 7\n    }, this);\n  }\n\n} //export Home Component\n\n\nexport default Shop;","map":{"version":3,"sources":["C:/Users/deven/OneDrive/Desktop/Lab2/Frontend/src/components/Shop/Shop.js"],"names":["React","Component","axios","cookie","Redirect","Button","Table","Form","Shop","constructor","itemnamehandler","e","setState","itemname","target","value","categoryhandler","category","descriptionhandler","description","quantityhandler","quantity","pricehandler","price","photohandler","photo","imageHandler","event","files","imageHandler2","file","username","localStorage","getItem","shop","load","formData","FormData","append","defaults","headers","common","post","then","response","console","log","status","submitLogin1","preventDefault","data","state","edited","successflag","duplicateid","submitLogin","added","items","owner","bind","handleClickFavorites","componentDidMount","shopname","render","editowner","details","map","item","name","image","salesCount","shops","shopimage","about","email","city","country","shopowner","sales","additem","modalval","editsuccess","addsuccess","color","ownerFlag","width","redirectVar"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"../../App.css\";\r\nimport axios from \"axios\";\r\nimport cookie from \"react-cookies\";\r\nimport { Redirect } from \"react-router\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Table from \"react-bootstrap/Table\";\r\nimport Form from \"react-bootstrap/Form\";\r\nclass Shop extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      items: [],\r\n      shop: [],\r\n      owner: false,\r\n      added: false,\r\n      edited: false,\r\n      itemname: \"\",\r\n      category: \"\",\r\n      description: \"\",\r\n      price: \"\",\r\n      quantity: \"\",\r\n      photo: \"\",\r\n    };\r\n    //Bind the handlers to this class\r\n    this.itemnamehandler = this.itemnamehandler.bind(this);\r\n    this.categoryhandler = this.categoryhandler.bind(this);\r\n    this.descriptionhandler = this.descriptionhandler.bind(this);\r\n    this.quantityhandler = this.quantityhandler.bind(this);\r\n    this.pricehandler = this.pricehandler.bind(this);\r\n    this.photohandler = this.photohandler.bind(this);\r\n    this.submitLogin = this.submitLogin.bind(this);\r\n  }\r\n  //iten name change handler\r\n  itemnamehandler = (e) => {\r\n    this.setState({\r\n      itemname: e.target.value,\r\n    });\r\n  };\r\n  //category change handler\r\n  categoryhandler = (e) => {\r\n    this.setState({\r\n      category: e.target.value,\r\n    });\r\n  };\r\n  //description change handler\r\n  descriptionhandler = (e) => {\r\n    this.setState({\r\n      description: e.target.value,\r\n    });\r\n  };\r\n  //quantity change handler\r\n  quantityhandler = (e) => {\r\n    this.setState({\r\n      quantity: e.target.value,\r\n    });\r\n  };\r\n  //price change handler\r\n  pricehandler = (e) => {\r\n    this.setState({\r\n      price: e.target.value,\r\n    });\r\n  };\r\n  //photo change handler\r\n  photohandler = (e) => {\r\n    this.setState({\r\n      photo: e.target.value,\r\n    });\r\n  };\r\n  imageHandler = (event) => {\r\n    this.setState({\r\n      photo: event.target.files[0],\r\n    });\r\n  };\r\n  imageHandler2 = (event) => {\r\n    const file = event.target.files[0];\r\n    const username = localStorage.getItem(\"email\"); // {  username:\"adfafsd\"}// cookie.load('cookie')}\r\n    const shop = cookie.load(\"shopname\");\r\n    const formData = new FormData();\r\n    formData.append(\"image\", file);\r\n    formData.append(\"username\", username);\r\n    formData.append(\"shopname\", shop);\r\n    axios.defaults.headers.common[\"authorization\"] =\r\n      localStorage.getItem(\"token\");\r\n    axios\r\n      .post(\"http://localhost:3001/shopImageUpdate\", formData, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n      })\r\n      .then((response) => {\r\n        console.log(\"Status Code : \", response.status);\r\n        if (response.status === 200) {\r\n          console.log(\"IMAGE UPDATED\");\r\n        } else {\r\n          console.log(\"IMAGE FAILED TO BE UPDATED\");\r\n        }\r\n      });\r\n  };\r\n  handleClickFavorites(e) {\r\n    //e.stopPropagation();\r\n    // access to e.target here\r\n    console.log(e.target.value);\r\n\r\n    const data = {\r\n      username: localStorage.getItem(\"email\"),\r\n      itemname: e.target.value,\r\n    };\r\n    axios.post(\"http://localhost:3001/addfavorites\", data).then((response) => {\r\n      if (response.status === 200) {\r\n        console.log(\"passed favorites\");\r\n      } else if (response.status === 201) {\r\n        console.log(\"INVALID DATA  favorites\");\r\n      }\r\n    });\r\n  }\r\n  //add item\r\n  submitLogin1 = (e) => {\r\n    e.preventDefault();\r\n    const data = {\r\n      username: localStorage.getItem(\"email\"),\r\n      itemname: this.state.itemname,\r\n      category: this.state.category,\r\n      description: this.state.description,\r\n      price: this.state.price,\r\n      quantity: this.state.quantity,\r\n      photo: this.state.photo,\r\n    };\r\n\r\n    const file = this.state.photo;\r\n    // const data = cookie.load('cookie')// {  username:\"adfafsd\"}// cookie.load('cookie')}\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"image\", file);\r\n    formData.append(\"username\", localStorage.getItem(\"email\"));\r\n    formData.append(\"itemname\", this.state.itemname);\r\n    formData.append(\"category\", this.state.category);\r\n    formData.append(\"description\", this.state.description);\r\n    formData.append(\"price\", this.state.price);\r\n    formData.append(\"quantity\", this.state.quantity);\r\n    console.log(\"File\");\r\n    console.log(data);\r\n    console.log(\"File\");\r\n    axios.defaults.headers.common[\"authorization\"] =\r\n      localStorage.getItem(\"token\");\r\n    axios\r\n      .post(\"http://localhost:3001/editItem\", formData, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n      })\r\n      .then((response) => {\r\n        console.log(\"Status Code Register : \", response.status);\r\n        if (response.status === 200) {\r\n          this.setState({\r\n            edited: true,\r\n          });\r\n        } else if (response.status === 201) {\r\n          this.setState({\r\n            successflag: false,\r\n            duplicateid: true,\r\n          });\r\n        }\r\n      });\r\n  };\r\n  //add item\r\n  submitLogin = (e) => {\r\n    e.preventDefault();\r\n    const data = {\r\n      username: localStorage.getItem(\"email\"),\r\n      itemname: this.state.itemname,\r\n      category: this.state.category,\r\n      description: this.state.description,\r\n      price: this.state.price,\r\n      quantity: this.state.quantity,\r\n      photo: this.state.photo,\r\n    };\r\n\r\n    const file = this.state.photo;\r\n    // const data = cookie.load('cookie')// {  username:\"adfafsd\"}// cookie.load('cookie')}\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"image\", file);\r\n    formData.append(\"username\", localStorage.getItem(\"email\"));\r\n    formData.append(\"itemname\", this.state.itemname);\r\n    formData.append(\"category\", this.state.category);\r\n    formData.append(\"description\", this.state.description);\r\n    formData.append(\"price\", this.state.price);\r\n    formData.append(\"quantity\", this.state.quantity);\r\n\r\n    //send data to backend\r\n    axios.defaults.headers.common[\"authorization\"] =\r\n      localStorage.getItem(\"token\");\r\n    axios\r\n      .post(\"http://localhost:3001/shop/addItem\", formData, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n      })\r\n      .then((response) => {\r\n        if (response.status === 200) {\r\n          this.setState({\r\n            added: true,\r\n          });\r\n        } else if (response.status === 201) {\r\n          this.setState({\r\n            successflag: false,\r\n            duplicateid: true,\r\n          });\r\n        }\r\n      });\r\n  };\r\n  //get the books data from backend\r\n  componentDidMount() {\r\n    const data = {\r\n      username: localStorage.getItem(\"email\"),\r\n      shopname: cookie.load(\"shopname\"),\r\n      owner: false,\r\n    };\r\n    axios.defaults.headers.common[\"authorization\"] =\r\n      localStorage.getItem(\"token\");\r\n    axios\r\n      .post(\"http://localhost:3001/shop/getShopData\", data)\r\n      .then((response) => {\r\n        if (response) {\r\n          this.setState({\r\n            items: response.data[0],\r\n            shop: response.data[1],\r\n            owner: response.data[2],\r\n          });\r\n        } else {\r\n          console.log(\"ERROR\");\r\n        }\r\n      });\r\n  }\r\n\r\n  render() {\r\n    let editowner = null;\r\n    //iterate over books to create a table row\r\n    let details = this.state.items.map((item) => {\r\n      return (\r\n        <tr>\r\n          <td>{item.name}</td>\r\n          <td>\r\n            {item.image && (\r\n              <img src={\"http://localhost:3000/\" + item.image} alt=\"img\" />\r\n            )}\r\n          </td>\r\n          <td>{item.description}</td>\r\n          <td>${item.price}</td>\r\n          <td>{item.salesCount}</td>\r\n          <td>{editowner}</td>\r\n        </tr>\r\n      );\r\n    });\r\n    let shops = this.state.shop.map((shop) => {\r\n      return (\r\n        <div class=\"container\">\r\n          <h1>{shop.shopname}</h1>\r\n          <figure>\r\n            {shop.shopimage && (\r\n              <img src={\"http://localhost:3000/\" + shop.shopimage} alt=\"img\" />\r\n            )}\r\n          </figure>\r\n          <p>About the seller: {shop.about}</p>\r\n          <p>Email: {shop.email}</p>\r\n          <p>\r\n            Seller Is From: {shop.city}, {shop.country}\r\n          </p>\r\n        </div>\r\n      );\r\n    });\r\n\r\n    let { owner } = this.state;\r\n\r\n    let shopowner = null;\r\n    let sales = null;\r\n    let additem = null;\r\n    let modalval = null;\r\n    let { edited } = this.state;\r\n    let editsuccess = null;\r\n    let { added } = this.state;\r\n    let addsuccess = null;\r\n    if (added) {\r\n      addsuccess = (\r\n        <div>\r\n          <span className=\"errorClass\" style={{ color: \"blue\" }}>\r\n            Succesfully added Item!\r\n          </span>\r\n        </div>\r\n      );\r\n    }\r\n    if (edited) {\r\n      editsuccess = (\r\n        <div>\r\n          <span className=\"errorClass\" style={{ color: \"blue\" }}>\r\n            Succesfully Edited Item!\r\n          </span>\r\n        </div>\r\n      );\r\n    }\r\n    let ownerFlag;\r\n    console.log(owner);\r\n    if (owner) {\r\n      ownerFlag = (\r\n        <div class=\"container\">\r\n          <h1>Welcome back owner</h1>\r\n        </div>\r\n      );\r\n      editowner = (\r\n        <button\r\n          type=\"button\"\r\n          class=\"btn btn-primary\"\r\n          data-toggle=\"modal\"\r\n          data-target=\"#exampleModal\"\r\n        >\r\n          Edit item\r\n        </button>\r\n      );\r\n      shopowner = (\r\n        <div>\r\n          <label class=\"form-label\" for=\"customFile\">\r\n            Change Shop Image\r\n          </label>\r\n          <input\r\n            type=\"file\"\r\n            name=\"image\"\r\n            accept=\"image/*\"\r\n            multiple={false}\r\n            onChange={this.imageHandler2}\r\n          />\r\n        </div>\r\n      );\r\n      sales = (\r\n        <div>\r\n          <Form class=\"form-control\">\r\n            <label>\r\n              Item Name:{\" \"}\r\n              <input\r\n                onChange={this.itemnamehandler}\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                name=\"idnum\"\r\n                placeholder=\"\"\r\n              />\r\n            </label>\r\n\r\n            <label>\r\n              Category:{\" \"}\r\n              <input\r\n                onChange={this.categoryhandler}\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                name=\"idnum\"\r\n                placeholder=\"\"\r\n              />\r\n            </label>\r\n\r\n            <label>\r\n              Description:{\" \"}\r\n              <input\r\n                onChange={this.descriptionhandler}\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                name=\"idnum\"\r\n                placeholder=\"\"\r\n              />\r\n            </label>\r\n\r\n            <label>\r\n              Price:{\" \"}\r\n              <input\r\n                onChange={this.pricehandler}\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                name=\"booktitle\"\r\n                placeholder=\"\"\r\n              />\r\n            </label>\r\n\r\n            <label>\r\n              Quantity:\r\n              <input\r\n                onChange={this.quantityhandler}\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                name=\"bookauthor\"\r\n                placeholder=\"\"\r\n              />\r\n            </label>\r\n            <label>\r\n              Photo:\r\n              <input\r\n                type=\"file\"\r\n                name=\"image\"\r\n                accept=\"image/*\"\r\n                multiple={false}\r\n                onChange={this.imageHandler}\r\n              />\r\n            </label>\r\n            <button\r\n              onClick={this.submitLogin}\r\n              type=\"button\"\r\n              class=\"btn btn-primary\"\r\n            >\r\n              Add item\r\n            </button>\r\n            <button\r\n              onClick={this.submitLogin1}\r\n              type=\"button\"\r\n              class=\"btn btn-primary\"\r\n            >\r\n              Edit item\r\n            </button>\r\n            {addsuccess}\r\n            {editsuccess}\r\n          </Form>\r\n        </div>\r\n      );\r\n      additem = (\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-primary\"\r\n            data-bs-toggle=\"modal\"\r\n            data-bs-target=\"#exampleModal\"\r\n          >\r\n            Add item\r\n          </button>\r\n        </div>\r\n      );\r\n\r\n      modalval = (\r\n        <div\r\n          class=\"modal fade\"\r\n          id=\"exampleModal\"\r\n          tabindex=\"-1\"\r\n          aria-labelledby=\"exampleModalLabel\"\r\n          aria-hidden=\"true\"\r\n        >\r\n          <div class=\"modal-dialog\">\r\n            <div class=\"modal-content\">\r\n              <div class=\"modal-header\">\r\n                <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n                  Modal title\r\n                </h5>\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn-close\"\r\n                  data-bs-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n                ></button>\r\n              </div>\r\n              <div class=\"modal-body\">\r\n                <div style={{ width: \"100%\" }} class=\"form-group\">\r\n                  <div class=\"col col-lg-3\">\r\n                    <label>\r\n                      New Item Name:\r\n                      <input\r\n                        onChange={this.itemnamehandler}\r\n                        type=\"text\"\r\n                        class=\"form-control\"\r\n                        name=\"idnum\"\r\n                        placeholder=\"\"\r\n                      />\r\n                    </label>\r\n                    <br />\r\n                    <label>\r\n                      Category:{\" \"}\r\n                      <input\r\n                        onChange={this.categoryhandler}\r\n                        type=\"text\"\r\n                        class=\"form-control\"\r\n                        name=\"idnum\"\r\n                        placeholder=\"\"\r\n                      />\r\n                    </label>\r\n                    <br />\r\n                    <label>\r\n                      Description:{\" \"}\r\n                      <input\r\n                        onChange={this.descriptionhandler}\r\n                        type=\"text\"\r\n                        class=\"form-control\"\r\n                        name=\"idnum\"\r\n                        placeholder=\"\"\r\n                      />\r\n                    </label>\r\n                    <br />\r\n                    <label>\r\n                      Price:{\" \"}\r\n                      <input\r\n                        onChange={this.pricehandler}\r\n                        type=\"text\"\r\n                        class=\"form-control\"\r\n                        name=\"booktitle\"\r\n                        placeholder=\"\"\r\n                      />\r\n                    </label>\r\n                    <br />\r\n                    <label>\r\n                      Quantity:\r\n                      <input\r\n                        onChange={this.quantityhandler}\r\n                        type=\"text\"\r\n                        class=\"form-control\"\r\n                        name=\"bookauthor\"\r\n                        placeholder=\"\"\r\n                      />\r\n                    </label>\r\n                  </div>\r\n\r\n                  <label>\r\n                    Item Image:{\" \"}\r\n                    <input\r\n                      type=\"file\"\r\n                      name=\"image\"\r\n                      accept=\"image/*\"\r\n                      multiple={false}\r\n                      onChange={this.imageHandler}\r\n                    />\r\n                  </label>\r\n                </div>\r\n              </div>\r\n              <div class=\"modal-footer\">\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-secondary\"\r\n                  data-dismiss=\"modal\"\r\n                >\r\n                  Close\r\n                </button>\r\n                <button\r\n                  onClick={this.submitLogin}\r\n                  type=\"button\"\r\n                  class=\"btn btn-primary\"\r\n                >\r\n                  Save Item\r\n                </button>\r\n              </div>\r\n              {addsuccess}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    //if not logged in go to login page\r\n    let redirectVar = null;\r\n    if (!localStorage.getItem(\"token\")) {\r\n      redirectVar = <Redirect to=\"/login\" />;\r\n    }\r\n    return (\r\n      <div>\r\n        {redirectVar}\r\n\r\n        <div class=\"container\">\r\n          {shops}\r\n          {shopowner}\r\n          {sales}\r\n          <Table striped bordered hover variant=\"dark\">\r\n            <thead>\r\n              <tr>\r\n                <th>Name</th>\r\n                <th>Image</th>\r\n                <th>Description</th>\r\n                <th>Price</th>\r\n                <th>Sales Count</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {/*Display the Tbale row based on data recieved*/}\r\n              {details}\r\n            </tbody>\r\n          </Table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n//export Home Component\r\nexport default Shop;\r\n"]},"metadata":{},"sourceType":"module"}