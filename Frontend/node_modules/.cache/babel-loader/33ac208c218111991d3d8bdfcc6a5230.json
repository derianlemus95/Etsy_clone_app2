{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\deven\\\\OneDrive\\\\Desktop\\\\Lab2\\\\Frontend\\\\src\\\\components\\\\Profile\\\\Profile.js\";\nimport React, { Component } from \"react\";\nimport \"../../App.css\";\nimport axios from \"axios\";\nimport cookie from \"react-cookies\";\nimport { Redirect } from \"react-router\"; //Define a Login Component\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Profile extends Component {\n  //call the constructor method\n  constructor(props) {\n    //Call the constrictor of Super class i.e The Component\n    super(props); //maintain the state required for this component\n\n    this.imageChangeHandler = e => {\n      this.setState({\n        image: e.target.files[0]\n      });\n    };\n\n    this.nameChangeHandler = e => {\n      this.setState({\n        name: e.target.value\n      });\n    };\n\n    this.emailChangeHandler = e => {\n      this.setState({\n        email: e.target.value\n      });\n    };\n\n    this.aboutChangeHandler = e => {\n      this.setState({\n        about: e.target.value\n      });\n    };\n\n    this.phoneChangeHandler = e => {\n      this.setState({\n        phone: e.target.value\n      });\n    };\n\n    this.addressChangeHandler = e => {\n      this.setState({\n        address: e.target.value\n      });\n    };\n\n    this.countryChangeHandler = e => {\n      this.setState({\n        country: e.target.value\n      });\n    };\n\n    this.cityChangeHandler = e => {\n      this.setState({\n        city: e.target.value\n      });\n    };\n\n    this.birthdayChangeHandler = e => {\n      this.setState({\n        birthday: e.target.value\n      });\n    };\n\n    this.submitLogin = e => {\n      //var headers = new Headers();\n      //prevent page from refresh\n      e.preventDefault();\n      const formData = new FormData();\n      formData.append(\"image\", this.state.image);\n      formData.append(\"name\", this.state.name);\n      formData.append(\"email\", this.state.email);\n      formData.append(\"about\", this.state.about);\n      formData.append(\"phone\", this.state.phone);\n      formData.append(\"address\", this.state.address);\n      formData.append(\"country\", this.state.country);\n      formData.append(\"city\", this.state.city);\n      formData.append(\"birthday\", this.state.birthday);\n      formData.append(\"username\", localStorage.getItem(\"email\")); //set the with credentials to true\n\n      axios.defaults.headers.common[\"authorization\"] = localStorage.getItem(\"token\"); //make a post request with the user data\n\n      axios.post(\"http://localhost:3001/user/update\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      }).then(response => {\n        console.log(\"Status Code : \", response.status);\n\n        if (response.status === 200) {\n          this.setState({\n            authFlag: false\n          });\n        } else {\n          this.setState({\n            authFlag: true\n          });\n        }\n      });\n    };\n\n    this.state = {\n      image: \"\",\n      name: \"\",\n      email: \"\",\n      about: \"\",\n      phone: \"\",\n      address: \"\",\n      country: \"\",\n      city: \"\",\n      birthday: \"\",\n      authFlag: true,\n      username: \"\"\n    }; //Bind the handlers to this class\n\n    this.imageChangeHandler = this.imageChangeHandler.bind(this);\n    this.nameChangeHandler = this.nameChangeHandler.bind(this);\n    this.emailChangeHandler = this.emailChangeHandler.bind(this);\n    this.aboutChangeHandler = this.aboutChangeHandler.bind(this);\n    this.phoneChangeHandler = this.phoneChangeHandler.bind(this);\n    this.addressChangeHandler = this.addressChangeHandler.bind(this);\n    this.countryChangeHandler = this.countryChangeHandler.bind(this);\n    this.cityChangeHandler = this.cityChangeHandler.bind(this);\n    this.birthdayChangeHandler = this.birthdayChangeHandler.bind(this);\n    this.submitLogin = this.submitLogin.bind(this);\n  } //Call the Will Mount to set the auth Flag to false\n\n\n  componentWillMount() {\n    this.setState({\n      authFlag: true,\n      username: localStorage.getItem(\"email\")\n    });\n  } //username change handler to update state variable with the text entered by the user\n\n\n  render() {\n    //if user not logged in redirect user to log in page\n    let redirectVar = null;\n\n    if (!localStorage.getItem(\"token\")) {\n      redirectVar = /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 21\n      }, this);\n    } //If password and username do not match display error\n\n\n    let {\n      authFlag\n    } = this.state;\n    let message;\n\n    if (!authFlag) {\n      message = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Success: Profile has been Updated!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [redirectVar, /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"login-form\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"main-div\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"panel\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"Profile Page\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Update your profile information\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Only fill in the fields that you want to be updated\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), message, /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: this.imageChangeHandler,\n                type: \"file\",\n                class: \"form-control\",\n                multiple: false,\n                name: \"image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: this.nameChangeHandler,\n                type: \"text\",\n                class: \"form-control\",\n                name: \"name\",\n                placeholder: \"Full Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: this.birthdayChangeHandler,\n                type: \"text\",\n                class: \"form-control\",\n                name: \"birthday\",\n                placeholder: \"Birthday\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: this.emailChangeHandler,\n                type: \"text\",\n                class: \"form-control\",\n                name: \"email\",\n                placeholder: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: this.phoneChangeHandler,\n                type: \"text\",\n                class: \"form-control\",\n                name: \"phone\",\n                placeholder: \"Phone Number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: this.addressChangeHandler,\n                type: \"text\",\n                class: \"form-control\",\n                name: \"address\",\n                placeholder: \"Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: this.cityChangeHandler,\n                type: \"text\",\n                class: \"form-control\",\n                name: \"city\",\n                placeholder: \"City\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: this.countryChangeHandler,\n                type: \"text\",\n                class: \"form-control\",\n                name: \"country\",\n                placeholder: \"Country\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: this.aboutChangeHandler,\n                type: \"text\",\n                class: \"form-control\",\n                name: \"about\",\n                placeholder: \"About\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.submitLogin,\n              class: \"btn btn-primary\",\n              children: \"Update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this);\n  }\n\n} //export Login Component\n\n\nexport default Profile;","map":{"version":3,"sources":["C:/Users/deven/OneDrive/Desktop/Lab2/Frontend/src/components/Profile/Profile.js"],"names":["React","Component","axios","cookie","Redirect","Profile","constructor","props","imageChangeHandler","e","setState","image","target","files","nameChangeHandler","name","value","emailChangeHandler","email","aboutChangeHandler","about","phoneChangeHandler","phone","addressChangeHandler","address","countryChangeHandler","country","cityChangeHandler","city","birthdayChangeHandler","birthday","submitLogin","preventDefault","formData","FormData","append","state","localStorage","getItem","defaults","headers","common","post","then","response","console","log","status","authFlag","username","bind","componentWillMount","render","redirectVar","message"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"../../App.css\";\r\nimport axios from \"axios\";\r\nimport cookie from \"react-cookies\";\r\nimport { Redirect } from \"react-router\";\r\n\r\n//Define a Login Component\r\nclass Profile extends Component {\r\n  //call the constructor method\r\n  constructor(props) {\r\n    //Call the constrictor of Super class i.e The Component\r\n    super(props);\r\n    //maintain the state required for this component\r\n    this.state = {\r\n      image: \"\",\r\n      name: \"\",\r\n      email: \"\",\r\n      about: \"\",\r\n      phone: \"\",\r\n      address: \"\",\r\n      country: \"\",\r\n      city: \"\",\r\n      birthday: \"\",\r\n      authFlag: true,\r\n      username: \"\",\r\n    };\r\n    //Bind the handlers to this class\r\n    this.imageChangeHandler = this.imageChangeHandler.bind(this);\r\n    this.nameChangeHandler = this.nameChangeHandler.bind(this);\r\n    this.emailChangeHandler = this.emailChangeHandler.bind(this);\r\n    this.aboutChangeHandler = this.aboutChangeHandler.bind(this);\r\n    this.phoneChangeHandler = this.phoneChangeHandler.bind(this);\r\n    this.addressChangeHandler = this.addressChangeHandler.bind(this);\r\n    this.countryChangeHandler = this.countryChangeHandler.bind(this);\r\n    this.cityChangeHandler = this.cityChangeHandler.bind(this);\r\n    this.birthdayChangeHandler = this.birthdayChangeHandler.bind(this);\r\n    this.submitLogin = this.submitLogin.bind(this);\r\n  }\r\n  //Call the Will Mount to set the auth Flag to false\r\n  componentWillMount() {\r\n    this.setState({\r\n      authFlag: true,\r\n      username: localStorage.getItem(\"email\"),\r\n    });\r\n  }\r\n  //username change handler to update state variable with the text entered by the user\r\n  imageChangeHandler = (e) => {\r\n    this.setState({\r\n      image: e.target.files[0],\r\n    });\r\n  };\r\n  //username change handler to update state variable with the text entered by the user\r\n  nameChangeHandler = (e) => {\r\n    this.setState({\r\n      name: e.target.value,\r\n    });\r\n  };\r\n  //email change handler to update state variable with the text entered by the user\r\n  emailChangeHandler = (e) => {\r\n    this.setState({\r\n      email: e.target.value,\r\n    });\r\n  };\r\n  //email change handler to update state variable with the text entered by the user\r\n  aboutChangeHandler = (e) => {\r\n    this.setState({\r\n      about: e.target.value,\r\n    });\r\n  };\r\n  //email change handler to update state variable with the text entered by the user\r\n  phoneChangeHandler = (e) => {\r\n    this.setState({\r\n      phone: e.target.value,\r\n    });\r\n  };\r\n  //email change handler to update state variable with the text entered by the user\r\n  addressChangeHandler = (e) => {\r\n    this.setState({\r\n      address: e.target.value,\r\n    });\r\n  };\r\n  //email change handler to update state variable with the text entered by the user\r\n  countryChangeHandler = (e) => {\r\n    this.setState({\r\n      country: e.target.value,\r\n    });\r\n  };\r\n  //username change handler to update state variable with the text entered by the user\r\n  cityChangeHandler = (e) => {\r\n    this.setState({\r\n      city: e.target.value,\r\n    });\r\n  };\r\n  //username change handler to update state variable with the text entered by the user\r\n  birthdayChangeHandler = (e) => {\r\n    this.setState({\r\n      birthday: e.target.value,\r\n    });\r\n  };\r\n  //submit Login handler to send a request to the node backend\r\n  submitLogin = (e) => {\r\n    //var headers = new Headers();\r\n    //prevent page from refresh\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append(\"image\", this.state.image);\r\n    formData.append(\"name\", this.state.name);\r\n    formData.append(\"email\", this.state.email);\r\n    formData.append(\"about\", this.state.about);\r\n    formData.append(\"phone\", this.state.phone);\r\n    formData.append(\"address\", this.state.address);\r\n    formData.append(\"country\", this.state.country);\r\n    formData.append(\"city\", this.state.city);\r\n    formData.append(\"birthday\", this.state.birthday);\r\n    formData.append(\"username\", localStorage.getItem(\"email\"));\r\n    //set the with credentials to true\r\n    axios.defaults.headers.common[\"authorization\"] =\r\n      localStorage.getItem(\"token\");\r\n    //make a post request with the user data\r\n    axios\r\n      .post(\"http://localhost:3001/user/update\", formData, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n      })\r\n      .then((response) => {\r\n        console.log(\"Status Code : \", response.status);\r\n        if (response.status === 200) {\r\n          this.setState({\r\n            authFlag: false,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            authFlag: true,\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  render() {\r\n    //if user not logged in redirect user to log in page\r\n    let redirectVar = null;\r\n    if (!localStorage.getItem(\"token\")) {\r\n      redirectVar = <Redirect to=\"/login\" />;\r\n    }\r\n    //If password and username do not match display error\r\n    let { authFlag } = this.state;\r\n    let message;\r\n    if (!authFlag) {\r\n      message = (\r\n        <div>\r\n          <p>Success: Profile has been Updated!</p>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div>\r\n        {redirectVar}\r\n        <div class=\"container\">\r\n          <div class=\"login-form\">\r\n            <div class=\"main-div\">\r\n              <div class=\"panel\">\r\n                <h1>Profile Page</h1>\r\n                <h3>Update your profile information</h3>\r\n                <p>Only fill in the fields that you want to be updated</p>\r\n              </div>\r\n              {message}\r\n              <div class=\"form-group\">\r\n                <input\r\n                  onChange={this.imageChangeHandler}\r\n                  type=\"file\"\r\n                  class=\"form-control\"\r\n                  multiple={false}\r\n                  name=\"image\"\r\n                />\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <input\r\n                  onChange={this.nameChangeHandler}\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  name=\"name\"\r\n                  placeholder=\"Full Name\"\r\n                />\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <input\r\n                  onChange={this.birthdayChangeHandler}\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  name=\"birthday\"\r\n                  placeholder=\"Birthday\"\r\n                />\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <input\r\n                  onChange={this.emailChangeHandler}\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  name=\"email\"\r\n                  placeholder=\"Email\"\r\n                />\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <input\r\n                  onChange={this.phoneChangeHandler}\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  name=\"phone\"\r\n                  placeholder=\"Phone Number\"\r\n                />\r\n              </div>\r\n\r\n              <div class=\"form-group\">\r\n                <input\r\n                  onChange={this.addressChangeHandler}\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  name=\"address\"\r\n                  placeholder=\"Address\"\r\n                />\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <input\r\n                  onChange={this.cityChangeHandler}\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  name=\"city\"\r\n                  placeholder=\"City\"\r\n                />\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <input\r\n                  onChange={this.countryChangeHandler}\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  name=\"country\"\r\n                  placeholder=\"Country\"\r\n                />\r\n              </div>\r\n\r\n              <div class=\"form-group\">\r\n                <input\r\n                  onChange={this.aboutChangeHandler}\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  name=\"about\"\r\n                  placeholder=\"About\"\r\n                />\r\n              </div>\r\n              <button onClick={this.submitLogin} class=\"btn btn-primary\">\r\n                Update\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n//export Login Component\r\nexport default Profile;\r\n"]},"metadata":{},"sourceType":"module"}